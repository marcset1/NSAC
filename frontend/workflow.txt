â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         UTILISATEUR                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
							â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Browser)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  index.html  â”‚â†’ â”‚  quiz.html   â”‚â†’ â”‚  game.html   â”‚â†’Results â”‚
â”‚  â”‚  (Accueil)   â”‚  â”‚  (5 quiz)    â”‚  â”‚  (Gameplay)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚         â–¼                  		 â–¼                  		â–¼                  â”‚
â”‚    landing.js         quiz.js            game.js                â”‚
â”‚                           â”‚                  â”‚                  â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                  â”‚                               â”‚
â”‚                                  â–¼                               â”‚
â”‚                          localStorage                            â”‚
â”‚                      (quiz score, saves)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP Requests (fetch)
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND API (Flask/Node)                    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      app.py / server.js                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Endpoints:                                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET  /api/quiz/questions      â†’ Questions quiz        â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET  /api/game/data           â†’ DonnÃ©es 90 jours      â”‚  â”‚
â”‚  â”‚  â”œâ”€ GET  /api/game/day/:id        â†’ DonnÃ©es jour X        â”‚  â”‚
â”‚  â”‚  â”œâ”€ POST /api/game/predict        â†’ PrÃ©diction ML         â”‚  â”‚
â”‚  â”‚  â””â”€ POST /api/game/action         â†’ Valider action        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                     â”‚
â”‚                            â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            ML Models (Python)                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ yield_predictor_v1.pkl  (Rendement)                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ stress_model.pkl        (Stress hydrique)            â”‚  â”‚
â”‚  â”‚  â””â”€ recommendation.py       (Recommandations)            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                     â”‚
â”‚                            â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            Data Layer                                     â”‚  â”‚
â”‚  â”‚  /data/                                                    â”‚  â”‚
â”‚  â”‚    â”œâ”€ raw/                                                â”‚  â”‚
â”‚  â”‚    â”‚   â”œâ”€ smap_iowa.csv    (HumiditÃ© sol)                â”‚  â”‚
â”‚  â”‚    â”‚   â”œâ”€ gpm_iowa.csv     (PrÃ©cipitations)              â”‚  â”‚
â”‚  â”‚    â”‚   â””â”€ modis_iowa.csv   (NDVI)                        â”‚  â”‚
â”‚  â”‚    â””â”€ processed/                                          â”‚  â”‚
â”‚  â”‚        â””â”€ game_data.json   (UnifiÃ© pour jeu)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NASA APIs (External)                          â”‚
â”‚  â”œâ”€ AppEEARS    (SMAP + MODIS extraction)                       â”‚
â”‚  â”œâ”€ Giovanni    (GPM precipitation)                             â”‚
â”‚  â””â”€ Earthdata   (Authentication + downloads)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“Š Diagramme de Flux Complet

START
  â”‚
  â–¼
[index.html] Accueil
  â”‚
  â”œâ”€â†’ Clic "Commencer"
  â”‚
  â–¼
[quiz.html] 5 Questions NASA
  â”‚
  â”œâ”€â†’ fetch('/api/quiz/questions') â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                                          â”‚
  â”œâ”€â†’ Joueur rÃ©pond                          â”‚
  â”‚                                          â–¼
  â”œâ”€â†’ Calcul score + bonus                [Backend API]
  â”‚                                       /api/quiz/questions
  â”œâ”€â†’ localStorage.setItem('quizBonus')    â”‚
  â”‚                                          â”‚
  â–¼                                          â”‚
[game.html] Gameplay Principal               â”‚
  â”‚                                          â”‚
  â”œâ”€â†’ initGame()                             â”‚
  â”‚    â”‚                                     â”‚
  â”‚    â”œâ”€â†’ try {                             â”‚
  â”‚    â”‚     fetch('/api/game/data') â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚    â”‚     âœ… Success                      â”‚
  â”‚    â”‚     gameState.nasaData = API data   â–¼
  â”‚    â”‚   }                            [Data Layer]
  â”‚    â”‚                                 game_data.json
  â”‚    â”œâ”€â†’ catch {                           â”‚
  â”‚    â”‚     âŒ Error                         â”‚
  â”‚    â”‚     loadDemoMode()                  â”‚
  â”‚    â”‚     gameState.nasaData = Generated  â”‚
  â”‚    â”‚   }                                 â”‚
  â”‚    â”‚                                     â”‚
  â”‚    â””â”€â†’ loadDayData(1)                    â”‚
  â”‚         updateUI()                       â”‚
  â”‚                                          â”‚
  â”œâ”€â†’ BOUCLE DE JEU â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
  â”‚    â”‚                                   â”‚ â”‚
  â”‚    â”œâ”€â†’ Joueur consulte NASA Data      â”‚ â”‚
  â”‚    â”‚    - Clic onglet SMAP            â”‚ â”‚
  â”‚    â”‚    - Clic onglet GPM             â”‚ â”‚
  â”‚    â”‚    - Clic onglet MODIS           â”‚ â”‚
  â”‚    â”‚    - stats.smapViews++           â”‚ â”‚
  â”‚    â”‚                                  â”‚ â”‚
  â”‚    â”œâ”€â†’ Joueur prend dÃ©cision          â”‚ â”‚
  â”‚    â”‚    - showActionModal('irrigate') â”‚ â”‚
  â”‚    â”‚    - performIrrigation()         â”‚ â”‚
  â”‚    â”‚    - gameState.water -= 100      â”‚ â”‚
  â”‚    â”‚    - gameState.plot.soil += 15   â”‚ â”‚
  â”‚    â”‚                                  â”‚ â”‚
  â”‚    â”œâ”€â†’ Joueur avance temps            â”‚ â”‚
  â”‚    â”‚    - nextDay()                   â”‚ â”‚
  â”‚    â”‚    - simulateDayEffects()        â”‚ â”‚
  â”‚    â”‚    - currentDay++                â”‚ â”‚
  â”‚    â”‚    - loadDayData(currentDay)     â”‚ â”‚
  â”‚    â”‚                                  â”‚ â”‚
  â”‚    â””â”€â†’ if (currentDay < 90) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
  â”‚        else endGame()                    â”‚
  â”‚                                          â”‚
  â–¼                                          â”‚
[results.html] Ã‰cran RÃ©sultats               â”‚
  â”‚                                          â”‚
  â”œâ”€â†’ calculateFinalResults()                â”‚
  â”‚    - Rendement = f(health, NDVI)        â”‚
  â”‚    - Ã‰toiles = f(yield, water)          â”‚
  â”‚    - Comparaison avec/sans NASA         â”‚
  â”‚                                          â”‚
  â”œâ”€â†’ Affichage graphiques                   â”‚
  â”‚    - Barres rendement                    â”‚
  â”‚    - Stats usage NASA                    â”‚
  â”‚    - Badges obtenus                      â”‚
  â”‚                                          â”‚
  â””â”€â†’ Boutons:                               â”‚
       - Rejouer (â†’ game.html)               â”‚
       - Partager rÃ©sultats                  â”‚
                                             â”‚
                                             â–¼
                                          [END]
